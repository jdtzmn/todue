"use strict";var $;$.fn.extend({animateCSS:function(n){var i=this,a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";this.addClass("animated "+n).one(a,function(){$(i).removeClass("animated "+n)})}});
"use strict";var $,storage,uuid;$(function(){$(".new-task-form").submit(function(a){a.preventDefault();var t=$(".new-task-name").val(),e=$(".category").val(),n=$(".difficulty").val(),i=new Date($(".date").val()).toJSON();if(t&&e&&n&&i){var s=storage.tasks?JSON.parse(storage.tasks):[],o={name:t,category:e,difficulty:n,due:i,done:!1,id:uuid.v1()};s.push(o),storage.setItem("tasks",JSON.stringify(s)),$(".new-task-name").val(""),$(".category").val(""),$(".difficulty").val(""),$(".date").val("")}else t?e?n?i||$(".date").focus().animateCSS("shake"):$(".difficulty").focus().animateCSS("shake"):$(".category").focus().animateCSS("shake"):$(".new-task-name").focus().animateCSS("shake")});var a=0,t=function t(){a-$(".navbar-fixed-top").height()!==0?($("body").css("padding-top",$(".navbar-fixed-top").height()+40),a=$(".navbar-fixed-top").height(),setTimeout(function(){t()},20)):($("body").css("padding-top",$(".navbar-fixed-top").height()+40),a=0)};$("button.navbar-toggler").click(function(){setTimeout(function(){t()},80)}),$(window).resize(function(){t()}),t(),$(".task-row-collapse").click(function(a){var t=JSON.parse($(a.currentTarget).parents().eq(2).find(".task-collapse").collapse("toggle").attr("aria-expanded"))?0:180;$({deg:t}).animate({deg:t+180},{duration:400,step:function(t){$(a.currentTarget).find("i").css({transform:"rotate("+t+"deg)"})}})})});
"use strict";
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Storage=function t(){var o=this;return this.constructor!==t?new t:(this.get=function(t){var o=window.localStorage;return t&&(o=window.localStorage[t]?window.localStorage[t]:void 0),o},this.storage=this.get(),this.set=function(t,e){if(!t||!e)return new Error("key and value must not be blank");var r=o.storage;return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&(e=JSON.stringify(e)),r&&(window.localStorage[t]=e,o.storage[t]=e),o.get()},void(this.remove=function(t){if(!t)return new Error("key must not be blank");var e=o.storage;return e&&(delete window.localStorage[t],delete o.storage[t]),o.storage}))},storage=new Storage;
"use strict";var React,ReactDOM,Pikaday,$,pull;
"use strict";var React,ReactDOM,Pikaday,$,moment,Sugar,pull,Sortable,TaskList=React.createClass({displayName:"TaskList",componentDidMount:function(){Sortable.create(document.getElementById("task-list"),{animation:150,onEnd:function(e){data.move(e.oldIndex,e.newIndex)}})},render:function(){var e=this.props.tasks.map(function(e,t){return React.createElement(Task,{task:e,key:t})});return React.createElement("ul",{id:"task-list",className:"list-group"},e)}}),Task=React.createClass({displayName:"Task",getInitialState:function(){return{difficulty:this.props.task.difficulty,checked:this.props.task.checked,tags:this.props.task.tags}},difficultyChange:function(e){this.setState({difficulty:e.target.value})},checkboxChange:function(e){this.setState({checked:e.target.checked})},addTags:function(e){for(var t=e.nativeEvent.srcElement,a=t.value,s=/\B#(\S+)/g,n={},c=s.exec(a);null!==c;)n[c[1]]=c[0],c=s.exec(a);32!==e.keyCode&&13!==e.keyCode&&9!==e.keyCode&&"blur"!==e.type||(a!==a.replace(/\B#\B/g,"")&&(a=t.value=a.replace(/\B#\B/g,"")),this.setState({tags:this.state.tags.concat(Object.keys(n))}),t.value=a.replace(/\B#\S+ ?/g,"#"))},removeTags:function(e){var t=e.nativeEvent.target.children.length?e.nativeEvent.target:e.nativeEvent.target.parentElement,a=t.textContent.slice(0,-1);e.keyCode&&8!==e.keyCode?39===e.keyCode?$(t).next(".task-tag").focus():37===e.keyCode?$(t).prev(".task-tag").focus():9===e.keyCode&&(e.shiftKey?$(".task-tag").first().focus():$(".task-tag").last().focus()):($(t).next().length?$(t).next().prev().focus():$(t).prev().focus(),this.setState({tags:pull(this.state.tags,a)}))},render:function(){var e=this,t=function(){switch(+e.state.difficulty){case 1:return"dif-easy";case 2:return"dif-medium";case 3:return"dif-hard"}}(),a=this.state.checked?"task-checked":"";return React.createElement("li",{className:"task list-group-item ".concat(t," ",a)},React.createElement("div",{className:"task-input input-group"},React.createElement(TaskCheckbox,{checked:this.props.task.checked,uuid:this.props.task.id,change:this.checkboxChange}),React.createElement(TaskInput,{value:this.props.task.name,uuid:this.props.task.id,addTags:this.addTags}),React.createElement(TaskTagList,{tags:this.state.tags,removeTags:this.removeTags}),React.createElement(TaskDate,{date:this.props.task.date}),React.createElement("div",{className:"input-group-addon date-tag"},React.createElement("i",{className:"fa fa-calendar"}))))}}),TaskCheckbox=React.createClass({displayName:"TaskCheckbox",render:function(){return React.createElement("div",{className:"animated-checkbox task-checkbox"},React.createElement("input",{id:this.props.uuid,onChange:this.props.change,type:"checkbox",defaultChecked:this.props.checked}),React.createElement("label",{htmlFor:this.props.uuid}))}}),TaskInput=React.createClass({displayName:"TaskInput",render:function(){return React.createElement("div",{className:"task-input-group"},React.createElement("input",{className:"task-name form-control",type:"text",defaultValue:this.props.value,onKeyUp:this.props.addTags,onBlur:this.props.addTags}))}}),TaskTagList=React.createClass({displayName:"TaskTagList",render:function(){var e=this;return this.props.tags.length?React.createElement("div",{className:"task-tag-list-container"},React.createElement("div",{className:"dropdown task-dropdown hidden-lg-up"},React.createElement("i",{className:"fa fa-tags dropdown-toggle","data-toggle":"dropdown"}),React.createElement("div",{className:"dropdown-menu"},this.props.tags.map(function(t,a){return React.createElement("div",{className:"dropdown-item task-dropdown-item",key:a},React.createElement("span",{className:"task-dropdown-item-text"},t," "),React.createElement("i",{className:"fa fa-times pull-right",onClick:e.props.removeTags}))}))),React.createElement("div",{className:"hidden-md-down task-tag-list-flex"},this.props.tags.map(function(t,a){return React.createElement("button",{className:"task-tag input-group-addon bg-primary",onKeyDown:e.props.removeTags,onClick:function(e){e.preventDefault()},key:a},React.createElement("i",{className:"fa fa-hashtag"}),t," ",React.createElement("i",{className:"fa fa-times",onClick:e.props.removeTags}))}))):null}}),TaskDate=React.createClass({displayName:"TaskDate",render:function(){var e=this,t=Sugar.Date(this.props.date).isValid().raw?moment(Sugar.Date(this.props.date)).calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"DD/MM/YYYY"}):this.props.date;return React.createElement("input",{className:"task-date form-control",type:"text",readOnly:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),defaultValue:t,ref:function(t){e.input=t}})},componentDidMount:function(){var e=this,t=new Pikaday({field:this.input,onClose:function(){e.input.value&&Sugar.Date(e.input.value).isValid().raw?e.input.value=moment(t.getDate()).calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"d [Days]",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"DD/MM/YYYY"}):e.input.value=e.input.value.charAt(0).toUpperCase()+e.input.value.slice(1)},onSelect:function(){if(t.getDate()!==Sugar.Date.create(e.input.value)){var a=moment(t.getDate()).diff(moment(),"days")+1;e.input.value=moment(t.getDate()).calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:a+" [days]",lastDay:"[Yesterday]",lastWeek:Math.abs(a-1)+" [days late]",sameElse:"DD/MM/YYYY"})}}});$(this.input).on("input",function(){var a=e.input.value;Sugar.Date(e.input.value).isValid().raw&&(t.setDate(Sugar.Date.create(a)),e.input.value=a)}).click(function(){e.input.select()})}}),data=[{id:"640dd626-b189-11e6-80f5-76304dec7eb7",name:"P.130#1-7",checked:!1,tags:["Hard","Math","Reading","Books","Really Long One","Really Really Long One","Impossibly Long One"],difficulty:1,date:"Tomorrow"},{id:"b5271a60-b18c-11e6-80f5-76304dec7eb7",name:"Clean the car",checked:!0,tags:["Chores"],difficulty:2,date:void 0}];ReactDOM.render(React.createElement(TaskList,{tasks:data}),$(".container")[0]);
"use strict";var Average=function(){var t=[];this.add=function(r){if(Array.isArray(r)){for(var e in r)t.push(r[e]);return this.average()}return t.push(r),this.average()},this.shift=function(){return t.shift(),this.average()},this.list=t,this.remove=function(r,e){return 0===r&&e?t.splice(t.length+e,1):t.splice(r,1),t},this.average=function(r){for(var e=0,i=r&&t.length-r>=0?t.length-r:0;i<t.length;i++)e+=t[i]||0;return e/(r&&r<=t.length?r:t.length)}};
"use strict";var livereloadScript=document.createElement("script");livereloadScript.setAttribute("src","http://"+window.location.hostname+":35729/livereload.js"),livereloadScript.setAttribute("charset","utf-8"),document.body.appendChild(livereloadScript);
"use strict";Array.prototype.move=function(t,i){if(i>=this.length)for(var s=i-this.length;s--+1;)this.push(void 0);return this.splice(i,0,this.splice(t,1)[0]),this};
"use strict";var pull=function(e,i){return e.indexOf(i)>-1&&e.splice(e.indexOf(i),1),e};
//# sourceMappingURL=scripts.min.js.map
