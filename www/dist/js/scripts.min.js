"use strict";var $;$.fn.extend({animateCSS:function(n){var i=this,a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";this.addClass("animated "+n).one(a,function(){$(i).removeClass("animated "+n)})}});
"use strict";var $,storage,uuid;$(function(){var a=0,e=function e(){a-$(".fixed-top").height()!==0?($("body").css("padding-top",$(".fixed-top").height()+40),a=$(".fixed-top").height(),setTimeout(function(){e()},20)):($("body").css("padding-top",$(".fixed-top").height()+40),a=0)};$("button.navbar-toggler").click(function(){setTimeout(function(){e()},80)}),$(window).resize(function(){e()}),e(),$(".add-task").click(function(){var a=uuid.v1();storage.tasks.add({id:a,name:"",checked:!1,tags:[],difficulty:void 0,date:""}),storage.tasks.render(),$(".task[data-id="+a+"]").find("input.task-name").focus(),$(".navbar-collapse").collapse("hide"),e()}),$(".remove-task").click(function(){$(".task-delete-box").addClass("animated"),$(".task-delete-box.visible").length?$(".task-delete-box.visible").removeClass("visible"):$(".task-delete-box").addClass("visible"),$(".date-tag .fa-calendar").length?$(".date-tag .fa-calendar").removeClass("fa-calendar").addClass("fa-arrows"):$(".date-tag .fa-arrows").removeClass("fa-arrows").addClass("fa-calendar"),$(".navbar-collapse").collapse("hide"),e()})});
"use strict";
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Storage=function t(){var e=this;return this.constructor!==t?new t:(this.get=function(t){var e=window.localStorage;t&&(e=window.localStorage[t]?window.localStorage[t]:void 0);var n=!0;try{JSON.parse(e)}catch(t){n=!1}return n?JSON.parse(e):e},this.local=this.get(),this.set=function(t,n){if(!t||!n)return new Error("key and value must not be blank");var o=e.local;return"object"===("undefined"==typeof n?"undefined":_typeof(n))&&(n=JSON.stringify(n)),o&&(window.localStorage[t]=n,e.local[t]=n),e.get()},this.remove=function(t){if(!t)return new Error("key must not be blank");var n=e.local;return n&&(delete window.localStorage[t],delete e.local[t]),e.get()},void(this.tasks={get:function(t){return t?(e.get("tasks")||[]).filter(function(e){return null!==e&&e.id===t})[0]:(e.get("tasks")||[]).filter(function(t){return null!==t})},add:function(t){var n=e.tasks.get();return n.push(t),e.tasks.set(n)},remove:function(t){"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(t=t.id);var n=e.tasks.get().filter(function(e){return null!==e&&e.id!==t});return e.tasks.set(n)},setTaskProperty:function(t,n,o){"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(t=t.id);var r=e.tasks.get();for(var i in r)r[i].id===t&&(r[i][n]=o);return e.tasks.set(r)},set:function(t){return storage.set("tasks",t),e.tasks.get()}}))},storage=new Storage;
"use strict";var React,ReactDOM,Pikaday,$,pull;
"use strict";var React,ReactDOM,Pikaday,$,moment,Sugar,pull,Sortable,storage,TaskList=React.createClass({displayName:"TaskList",componentDidMount:function(){Sortable.create(document.getElementById("task-list"),{group:"tasks",animation:150,handle:".date-tag",onStart:function(e){$(".task-delete-box").addClass("animated"),$(".task-delete-box").addClass("visible")},onRemove:function(e){var t=e.item.attributes[1].nodeValue;storage.tasks.remove(storage.tasks.get(t))},onEnd:function(e){var t=storage.tasks.get();t.splice(e.newIndex,0,t.splice(e.oldIndex,1)[0]),storage.set("tasks",t),$(".task-delete-box.visible").removeClass("visible"),$(".date-tag .fa-arrows").removeClass("fa-arrows").addClass("fa-calendar")}})},render:function(){var e=this.props.tasks.map(function(e,t){return React.createElement(Task,{task:e,key:t})});return React.createElement("ul",{id:"task-list",className:"list-group"},e,React.createElement(TaskDeleteBox,null))}}),Task=React.createClass({displayName:"Task",getInitialState:function(){return{difficulty:this.props.task.difficulty,checked:this.props.task.checked,tags:this.props.task.tags}},difficultyChange:function(e){this.setState({difficulty:e.target.value})},checkboxChange:function(e){this.setState({checked:e.target.checked})},addTags:function(e){for(var t=e.nativeEvent.srcElement,a=t.value,s=/\B#(\S+)/g,n={},i=s.exec(a);null!==i;)n[i[1]]=i[0],i=s.exec(a);if(32===e.keyCode||13===e.keyCode||"blur"===e.type){if(Object.keys(n).length)switch(Object.keys(n)[0].toUpperCase()){case"EASY":this.setState({difficulty:1});break;case"MEDIUM":this.setState({difficulty:2});break;case"HARD":this.setState({difficulty:3})}a!==a.replace(/\B#\B/g,"")&&(a=t.value=a.replace(/\B#\B/g,"")),this.setState({tags:this.state.tags.concat(Object.keys(n))}),t.value=a.replace(/\B#\S+ ?/g,"#"),$(t).trigger("input")}},removeTags:function(e){var t=e.nativeEvent.target.children.length?e.nativeEvent.target:e.nativeEvent.target.parentElement,a=t.textContent;"EASY"!==a.toUpperCase()&&"MEDIUM"!==a.toUpperCase()&&"HARD"!==a.toUpperCase()||this.setState({difficulty:0}),e.keyCode&&8!==e.keyCode?39===e.keyCode?$(t).next(".task-tag").focus():37===e.keyCode?$(t).prev(".task-tag").focus():9===e.keyCode&&(e.shiftKey?$(".task-tag").first().focus():$(".task-tag").last().focus()):($(t).next().length?$(t).next().prev().focus():$(t).prev().focus(),this.setState({tags:pull(this.state.tags,a)}))},componentWillUpdate:function(e,t){storage.tasks.setTaskProperty(this.props.task.id,"tags",t.tags),storage.tasks.setTaskProperty(this.props.task.id,"checked",t.checked),storage.tasks.setTaskProperty(this.props.task.id,"difficulty",t.difficulty)},render:function(){var e=this,t=function(){switch(+e.state.difficulty){case 0:return"";case 1:return"dif-easy";case 2:return"dif-medium";case 3:return"dif-hard"}}(),a=this.state.checked?"task-checked":"";return React.createElement("li",{className:"task list-group-item ".concat(t," ",a),"data-id":this.props.task.id},React.createElement("div",{className:"task-input input-group"},React.createElement(TaskCheckbox,{checked:this.props.task.checked,uuid:this.props.task.id,change:this.checkboxChange}),React.createElement(TaskInput,{value:this.props.task.name,uuid:this.props.task.id,addTags:this.addTags}),React.createElement(TaskTagList,{tags:this.state.tags,removeTags:this.removeTags}),React.createElement(TaskDate,{date:this.props.task.date}),React.createElement("div",{className:"input-group-addon date-tag"},React.createElement("i",{className:"fa fa-calendar"}))))}}),TaskCheckbox=React.createClass({displayName:"TaskCheckbox",render:function(){return React.createElement("div",{className:"animated-checkbox task-checkbox"},React.createElement("input",{id:this.props.uuid,onChange:this.props.change,type:"checkbox",defaultChecked:this.props.checked}),React.createElement("label",{htmlFor:this.props.uuid}))}}),TaskInput=React.createClass({displayName:"TaskInput",render:function(){var e=this;return React.createElement("div",{className:"task-input-group"},React.createElement("input",{className:"task-name form-control",type:"text",defaultValue:this.props.value,onKeyUp:this.props.addTags,onBlur:this.props.addTags,ref:function(t){e.input=t}}))},componentDidMount:function(){var e=this;$(this.input).on("input",function(t){storage.tasks.setTaskProperty(e.props.uuid,"name",e.input.value)})}}),TaskTagList=React.createClass({displayName:"TaskTagList",render:function(){var e=this;return this.props.tags.length?React.createElement("div",{className:"task-tag-list-container"},React.createElement("div",{className:"dropdown task-dropdown hidden-lg-up"},React.createElement("i",{className:"fa fa-tags dropdown-toggle","data-toggle":"dropdown"}),React.createElement("div",{className:"dropdown-menu"},this.props.tags.map(function(t,a){return React.createElement("div",{className:"dropdown-item task-dropdown-item",key:a},React.createElement("span",{className:"task-dropdown-item-text"},t),React.createElement("i",{className:"fa fa-times pull-right",onClick:e.props.removeTags}))}))),React.createElement("div",{className:"hidden-md-down task-tag-list-flex"},this.props.tags.map(function(t,a){return React.createElement("button",{className:"task-tag input-group-addon bg-primary",onKeyDown:e.props.removeTags,onClick:function(e){e.preventDefault()},key:a},React.createElement("i",{className:"fa fa-hashtag"}),t,React.createElement("i",{className:"fa fa-times pull-right",onClick:e.props.removeTags}))}))):null}}),TaskDate=React.createClass({displayName:"TaskDate",render:function(){var e=this,t=this.props.date;if(t&&Sugar.Date(t).isValid().raw){var a=moment(t).diff(moment(),"days")+1;t=moment(t).calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:a+" [Days]",lastDay:"[Yesterday]",lastWeek:Math.abs(a-1)+" [days late]",sameElse:"MM/DD/YYYY"})}return React.createElement("input",{className:"task-date form-control text-capitalize",type:"text",readOnly:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),defaultValue:t,ref:function(t){e.input=t}})},componentDidMount:function(){var e=this,t=this.input.value,a=new Pikaday({field:this.input,onClose:function(){if(e.input.value&&Sugar.Date(e.input.value).isValid().raw){var s=moment(a.getDate()).diff(moment(),"days")+1;e.input.value=moment(a.getDate()).calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:s+" [Days]",lastDay:"[Yesterday]",lastWeek:Math.abs(s-1)+" [days late]",sameElse:"MM/DD/YYYY"})}storage.tasks.setTaskProperty($(e.input).parents(".task").attr("data-id"),"date",t)},onSelect:function(){if(t=a.getDate(),a.getDate()!==Sugar.Date.create(e.input.value)){var s=moment(a.getDate()).diff(moment(),"days")+1;e.input.value=moment(a.getDate()).calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:s+" [days]",lastDay:"[Yesterday]",lastWeek:Math.abs(s-1)+" [days late]",sameElse:"MM/DD/YYYY"})}}});$(this.input).on("input",function(){var s=e.input.value;Sugar.Date(e.input.value).isValid().raw?(t=Sugar.Date.create(s),a.setDate(Sugar.Date.create(s)),e.input.value=s):t=e.input.value}).click(function(){e.input.select()}),this.input.value=t}}),TaskDeleteBox=React.createClass({displayName:"TaskDeleteBox",componentDidMount:function(){Sortable.create(document.getElementById("task-delete-box"),{group:"tasks",onAdd:function(e){setTimeout(function(){e.item.parentNode.removeChild(e.item),e.from.appendChild(e.item),storage.tasks.render()},400)}})},render:function(){return React.createElement("div",{id:"task-delete-box",className:"container task-delete-box"})}});storage.tasks.render=function(e){e||(e=storage.tasks.get()),ReactDOM.render(React.createElement(TaskList,{tasks:e}),$(".container")[0])},storage.tasks.render();
"use strict";var Average=function(){var t=[];this.add=function(r){if(Array.isArray(r)){for(var e in r)t.push(r[e]);return this.average()}return t.push(r),this.average()},this.shift=function(){return t.shift(),this.average()},this.list=t,this.remove=function(r,e){return 0===r&&e?t.splice(t.length+e,1):t.splice(r,1),t},this.average=function(r){for(var e=0,i=r&&t.length-r>=0?t.length-r:0;i<t.length;i++)e+=t[i]||0;return e/(r&&r<=t.length?r:t.length)}};
"use strict";var livereloadScript=document.createElement("script");livereloadScript.setAttribute("src","http://"+window.location.hostname+":35729/livereload.js"),livereloadScript.setAttribute("charset","utf-8"),document.body.appendChild(livereloadScript);
"use strict";var pull=function(e,i){return e.indexOf(i)>-1&&e.splice(e.indexOf(i),1),e};
//# sourceMappingURL=scripts.min.js.map
