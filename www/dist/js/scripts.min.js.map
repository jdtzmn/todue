{"version":3,"sources":["animate.js","events.js","livereload.js","pull.js","scripts.js","storage.js","components/navbar.js","components/tasks.js"],"names":["$","fn","extend","animateCSS","animationName","_this","this","one","animationEnd","removeClass","storage","uuid","submit","e","preventDefault","val","category","name","toJSON","date","difficulty","tasks","JSON","parse","due","v1","push","task","stringify","focus","livereloadScript","document","createElement","setAttribute","window","location","hostname","pull","a","i","indexOf","splice","Storage","constructor","localStorage","get","data","undefined","set","b","Error","remove","React","ReactDOM","Pikaday","displayName","render","Tag","createClass","onKeyDown","props","keypress","onClick","className","TaskInput","element","nativeEvent","target","children","length","parentElement","slice","keyCode","next","shiftKey","first","last","prev","setState","tags","state","text","tag","srcElement","value","matches","match","regex","Object","keys","concat","console","log","replace","exec","type","placeholder","autoFocus","onKeyUp","map","key","DifficultyDropdown","defaultValue","Pickaday","t","ref","r","input","componentDidMount","_this2","field","onOpen","Date","toDateString","onClose","NewTaskButton","Navbar"],"mappings":"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","file":"scripts.min.js","sourcesContent":["var $\n\n$.fn.extend({\n  animateCSS: function (animationName) {\n    var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend'\n    this.addClass('animated ' + animationName).one(animationEnd, () => {\n      $(this).removeClass('animated ' + animationName)\n    })\n  }\n})\n","var $, storage, uuid\n\n$(() => {\n  $('.new-task-form').submit((e) => {\n    e.preventDefault()\n\n    let name = $('.task-name').val()\n    let category = $('.category').val()\n    let difficulty = $('.difficulty').val()\n    let date = new Date($('.date').val()).toJSON()\n\n    if (name && category && difficulty && date) {\n      let tasks = storage.tasks ? JSON.parse(storage.tasks) : []\n\n      let task = {\n        name: name,\n        category: category,\n        difficulty: difficulty,\n        due: date,\n        done: false,\n        id: uuid.v1()\n      }\n\n      tasks.push(task)\n\n      storage.setItem('tasks', JSON.stringify(tasks))\n\n      $('.task-name').val('')\n      $('.category').val('')\n      $('.difficulty').val('')\n      $('.date').val('')\n    } else {\n      if (!name) {\n        $('.task-name').focus().animateCSS('shake')\n      } else if (!category) {\n        $('.category').focus().animateCSS('shake')\n      } else if (!difficulty) {\n        $('.difficulty').focus().animateCSS('shake')\n      } else if (!date) {\n        $('.date').focus().animateCSS('shake')\n      }\n    }\n  })\n})\n","let livereloadScript = document.createElement('script')\nlivereloadScript.setAttribute('src', 'http://' + window.location.hostname + ':35729/livereload.js')\nlivereloadScript.setAttribute('charset', 'utf-8')\ndocument.body.appendChild(livereloadScript)\n","let pull = function (a, i) {\n  if (a.indexOf(i) > -1) a.splice(a.indexOf(i), 1)\n  return a\n}\npull\n","\n","let Storage = function () {\n  if (!(this.constructor === Storage)) {\n    return new Storage()\n  }\n\n  this.storage = window.localStorage\n\n  this.get = (e) => {\n    let data = window.localStorage\n    if (e) data = window.localStorage[e] ? window.localStorage[e] : undefined\n    return data\n  }\n\n  this.set = (a, b) => {\n    if (!a || !b) return new Error('key and value must not be blank')\n    let data = this.storage\n    if (data) {\n      window.localStorage[a] = b\n      this.storage[a] = b\n    } else {\n\n    }\n    return this.get()\n  }\n\n  this.remove = (a) => {\n    if (!a) return new Error('key must not be blank')\n    let data = this.storage\n    if (data) {\n      delete window.localStorage[a]\n      delete this.storage[a]\n    } else {\n\n    }\n    return this.storage\n  }\n}\n\nlet storage = new Storage()\nstorage\n","var React, ReactDOM, Pikaday, $, pull\n\nlet Tag = React.createClass({\n  render: function () {\n    return <button className='input-group-addon new-task-tag bg-warning' onKeyDown={this.props.keypress} onClick={(e) => { e.preventDefault() }}>{this.props.name} <i className='fa fa-times' onClick={this.props.keypress} /></button>\n  }\n})\n\nlet TaskInput = React.createClass({\n  keypress: function (e) {\n    let element = e.nativeEvent.target.children.length ? e.nativeEvent.target : e.nativeEvent.target.parentElement\n    let text = element.textContent.slice(0, -1)\n    if (!e.keyCode || e.keyCode === 8) {\n      $(element).next().length ? $(element).next().prev().focus() : $(element).prev().focus()\n      this.setState({\n        tags: pull(this.state.tags, text)\n      })\n    } else if (e.keyCode === 39) {\n      $(element).next('.new-task-tag').focus()\n    } else if (e.keyCode === 37) {\n      $(element).prev('.new-task-tag').focus()\n    } else if (e.keyCode === 9) {\n      e.shiftKey ? $('.new-task-tag').first().focus() : $('.new-task-tag').last().focus()\n    }\n  },\n  tag: function (e) {\n    let element = e.nativeEvent.srcElement\n    console.log(e.keyCode)\n    let value = element.value\n    let regex = /#(\\S*) /g\n    let matches = {}\n    let match = regex.exec(value)\n    console.log(match)\n    while (match !== null) {\n      matches[match[1]] = match[0]\n      match = regex.exec(value)\n    }\n    if (Object.keys(matches).length > 0) {\n      this.setState({\n        tags: this.state.tags.concat(Object.keys(matches))\n      })\n      element.value = value.replace(/#(\\S*) /g, '')\n    }\n    if (e.keyCode === 13) {\n      let matches = /#(\\S*)/g.exec(value)\n      if (matches) {\n        let match = matches[1]\n        this.state.tags.push(match)\n        this.setState({\n          tags: this.state.tags\n        })\n        element.value = value.replace(/#(\\S*)/g, '')\n      }\n    }\n  },\n  getInitialState: function () {\n    return {\n      tags: []\n    }\n  },\n  render: function () {\n    return (\n      <div className='new-task-group'>\n        <div className='input-group new-task-input-group'>\n          <input className='form-control task-name' type='text' placeholder='Task Name' autoFocus='true' onKeyUp={this.tag} />\n          {\n            this.state.tags.map((tag, i) => {\n              return <Tag name={tag} keypress={this.keypress} key={i} />\n            })\n          }\n        </div>\n      </div>\n    )\n  }\n})\n\nlet DifficultyDropdown = React.createClass({\n  render () {\n    return (\n      <select className='form-control difficulty'>\n        <option defaultValue value=''>Difficulty</option>\n        <option value='1'>Easy</option>\n        <option value='2'>Medium</option>\n        <option value='3'>Hard</option>\n      </select>\n    )\n  }\n})\n\nlet Pickaday = React.createClass({\n  render () {\n    let t = this\n    return (\n      <div className='date-group input-group'>\n        <input className='form-control date' type='text' placeholder='Date' ref={function (r) { t.input = r }} />\n        <div className='input-group-addon'><i className='fa fa-calendar' /></div>\n      </div>\n    )\n  },\n  componentDidMount () {\n    let pikaday = new Pikaday({\n      field: this.input,\n      onOpen: () => {\n        this.input.value = (new Date()).toDateString()\n      },\n      onClose: () => {\n        $('.new-task-form').submit()\n      }\n    })\n    pikaday\n  }\n})\n\nlet NewTaskButton = React.createClass({\n  render () {\n    return (\n      <button className='form-control btn btn-primary new-task-button' type='submit'>Add Task</button>\n    )\n  }\n})\n\nlet Navbar = React.createClass({\n  render () {\n    return (\n      <div className='new-task-flex'>\n        <TaskInput />\n        <DifficultyDropdown />\n        <Pickaday />\n        <NewTaskButton />\n      </div>\n    )\n  }\n})\n\nReactDOM.render(<Navbar />, $('.new-task-form')[0])\n",""],"sourceRoot":"/source/"}